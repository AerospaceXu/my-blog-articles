# 读 Angular 代码风格指南

<!-- TODO: 本文写于 2021 年 1 月 15 日 -->

原文地址：[Angular 文档](https://angular.cn/guide/styleguide)

该文章拥有完整的代码风格指南——大到如何编排文件夹，小到如何进行变量命名都涉及。但是与 ng 略有绑定，所以这里整理一下可以单独拿出来的通用部分。

## 单一职责

请坚持每个文件**只定义一样东西**（例如服务或组件），并且把文件大小**限制在 400 行代码以内**。

小文件通常非常**容易阅读、维护**，并能**防止在版本控制系统里与团队冲突**。

小文件还可以**防止一些隐蔽的程序缺陷**，当把多个组件合写在同一个文件中时，可能造成共享变量、创建意外的闭包，或者与依赖之间产生意外耦合等情况。

总的来说，单一职责原则可以让代码更加可复用、更容易阅读，减少出错的可能性。

如果该文件是一个函数，那么请**坚持定义简单函数**，并且限制在 75 行之内。

这样能更便于我们做单元测试。

## 命名

命名是一件非常重要的事情，他可以让其他人看我们的代码，或者是我们自己在一段时间之后再看之前的代码时，可以**迅速理解文件内容、变量含义、方法用途……**。也可以在全局搜索的时候，让我们可以**迅速定位到目标**。

代码给人读的时间比给机器读的时间多多了，因此我们需要慎重考虑命名。

可以遵循以下两个原则：

1. 坚持使用**一致的命名规则**；
2. 坚持遵循**同一个模式**来描述特性和类型。

### 文件命名

ng 推荐使用点和横杠来分隔文件名——**在描述性名字中，用横杠来分隔单词；用点来分隔描述性名字和类型**。

具体来说，就是先描述组件特性，再描述它的类型的模式，并且对所有组件使用一致的类型命名规则！！！

也就是 `feature.type.ts`，例如 `hero.service.ts`, `app.module.ts`, `home.component.html`, `global.style.css`。

常常使用的后缀有 `*.service`、`*.component`、`*.pipe`、`.module`、`.directive`。如果有必要，可以创建更多类型名，但必须注意，**不要创建太多了**。

这样命名文件可以让我们来快速的识别文件中有什么，并且轻松的利用编辑器或者 IDE 的模糊搜索功能找到特定文件类型。或是为自动化任务提供模式匹配。

（完）
