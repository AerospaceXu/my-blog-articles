# GET 与 POST

本文写于 2020 年 9 月 8 日

GET 与 POST 是两种 **HTTP 方法**，并且是最常用的两种。

开门见山：网上大部分对二者的分析都是错的，GET 和 POST 没有本质的区别。

如果我们想要知道他们之间的区别，首先我们得明确：什么是 HTTP？什么是 HTTP 方法？

**什么是 HTTP 呢？**

HTTP 是一种协议，他的设计目的是保证客户端与服务器之间的通信。

HTTP 的工作方式是客户端与服务器之间的「请求」与「应答」。（这个客户端可能是 web 浏览器，也可能是需要联网的本地应用程序）

但是这个「请求」与「应答」不能瞎来啊，我们互相之间得看得懂才行——这就是**协议**的作用：规定好应该如何请求、应该如何响应。

关于 HTTP 不多做解释，可以看之前一的一篇[用简单 Node.js 后台程序看 HTTP 请求](https://www.yuque.com/fuzaogonglibudushu/javascript/dt31ut)。

而 HTTP 方法呢，顾名思义，就是指在客户端和服务器之间进行「请求-响应」时，被用到的方法。

**GET 和 POST 各用一句话来描述：**

- GET 从指定的资源请求数据
- POST 向指定的资源提交要被处理的数据

但实际上，这是有一点点小问题的。因为我们忽略了 GET/POST 现在已经不单单是 HTTP 请求在用了。

HTTP 最早的时候，被用来做浏览器与服务器之间交互 HTML 和表单的通讯协议，但是后来又被被广泛的扩充到接口格式的定义上。

所以在讨论 GET 和 POST 的时候，需要现确定到底是**浏览器使用的 GET/POST**， 还是用 **HTTP 作为接口传输协议**的场景。

## 浏览器的 GET 与 POST

首先看**不是 Ajax** 的 HTTP 请求，即 `<script>` 引入 js、`<link>` 标签引入 css、 `<img>` 标签引入图片、`<form>` 标签的表单提交。

其中，浏览器用 GET 请求来获取一个 html 页面/图片/css/js 等资源；用 POST 来提交一个 `<form>` 表单，并得到一个结果。

### 浏览器的 GET

GET 负责「读取」资源。比如我们 GET 一个 `.html` 或者 `.js` 文件。

而在这里不管你怎么读取、读取多少遍，都不会对访问的数据有副作用。

如果有副作用，那么 GET 一下用户就下单了，返回“订单已受理”，这是不可接受的。（没有副作用被称为「幂等」）

而又为 GET 因为是读取，所以**可以对 GET 请求的数据做缓存**。

### 浏览器的 POST

而 POST 则是有副作用的，比如在页面里 `<form>` 标签会定义一个表单，点击其中的 `submit` 会发出一个 POST 请求让服务器做一件事。

这件事往往是有副作用的，不幂等的。这意味着 **POST 请求不能随意多次执行，也不能缓存**。

比如通过 POST 下一个淘宝订单，服务器创建了新的订单，然后返回给我们「下单成功」的界面——这个页面是肯定不能被缓存的！

如果 POST 请求被浏览器缓存了，那么下单请求就可以不向服务器发请求，直接返回本地缓存的「下单成功」，可是却又没有真的在服务器下单。那是一件多么滑稽的事情。

我们平时遇到的浏览器提示，说你如果刷新此网页会重新提交表单云云，就是说明这是 POST 请求。

结论就是，**GET 和 POST 方法没有实质区别，只是报文格式不同**。
